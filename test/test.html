<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../js/3.6.6/jquery.js"></script>
    <script src="../js/jSignature.min.js"></script>
</head>
<body>
<h1>Hello world!</h1>
<div class="person" style="">
    乙方（持卡人及卡片使用人签名）：</br>
    <div id="canvasDiv"></div>
    <button id="btn_clear" style="">重写</button>
    <button id="btn_submit">确定</button>
    <img id="qmimg">
</div>
<script>
    $(function () {
        let param = {
            width: '400px',
            height: '300px',
            UndoButton: true,
            signatureLine: false,
            lineWidth: '1'
        };

        $('#canvasDiv').jSignature(param);
        $('#btn_clear').click(function (){
            $("#canvasDiv").jSignature("rest");
        });

        $('#btn_submit').click(function (){
            let datapair = $('#canvasDiv').jSignature("getData","image");
            let i = new Image();
            i.src = "data:"+datapair[0]+","+datapair[1];
            i.image=datapair[1];
            $('#qmimg').attr('src',`data:image/png;base64,${i.image}`);
            $('#canvasDiv').hide();
            $('#btn_submit').hide();
            $('#btn_clear').hide();
        });
    })
</script>
</body>
</html>
